# 第十四章魔术方法
## 魔术方法一览
1. __construct
2. __destruct
3. __call
4. __callStatic
5. __get
6. __set
7. __isset
8. __unset
9. __sleep
10. __wakeup
11. __toString
12. __set_state
13. __clone
### 说明
1. 魔术方法都是系统提供的，程序员使用即可
2. 所有的魔术方法，前面都是以__开头，两个下划线
3. 我们在自定义函数时，就不要以两个下划线开头
4. 魔术方法是在满足某个条件时，系统自动调用
## 访问修饰符基本介绍
+ 基本简介
> 对属性或方法访问控制，是通过前面关键字public(共有的),protected(受保护的)或private(私有的)来实现，被定义为共有的类成员可以在任何地方访问。被定义为受保护的类成员则可以被其自身以及子类和父类访问。被定义为私有的类成员只能被其定义所在的类访问
1. 访问控制修饰符可以修饰成员属性，也可以修饰方法
2. 有三种，public,protected和private
+ 案例说明
```php
  <?php
    header('content-type:text/html;charset=utf-8');
    class Person {
      public $name;
      protected $salary;
      private $lover;
      
      // 构造函数
      public function __construct($name,$salary,$lover){
        $this -> name = $name;
        $this -> salary = $salary;
        $this -> lover = $lover;
      }
      
      // 访问protected属性
      public function salary(){
        return $this -> salary;
      }
      
      // 访问private属性
      public function lover(){
        return $this -> lover;
      }
    }
    // 创建职员
    $p1 = new Person('刘备',8000,'甘夫人');
    echo '薪资为：'.$p1->salary();
    echo '爱人是：'.$p1 -> lover();  
  ?>
```
## 魔术方法之__get和__set函数
### 基本介绍
1. 当程序员去使用不可访问的成员属性时，系统就会调用__get方法
2. 不可访问的属性是指：该属性不存在，直接访问了proteced或者private属性
3. 当程序员去给不可访问的属性直接赋值，系统就会调用__get方法
### 举例说明
> 需求是：如果有一个成员变量是privated,proteced的，我希望在类的外部通过：$对象名->变量名的方法来赋值和取值，怎么办？
```php
  <?php
    class Mokey {
      public $name;
      protected $food;
      public function __construct($name,$food){
        $this -> name = $name;
        $this -> food = $food;
      }

      public function __get($pro_name){
        //判断类中是否存在该成员属性
        if(property_exists($this, $pro_name)){
          return $this -> $pro_name;
        } else {
          return '没有该属性，无法返回';
        }
      }

      public function __set($pro_name,$pro_val){
        if(property_exists($this, $pro_name)){
          $this -> $pro_name = $pro_val;				
        } else {
          return '没有该属性，无法返回';
        }
      }

    }

    // 创建对象
    $m1 = new Mokey('小猴','蟠桃');
    echo '<br>-------------<br>新的值：'.$m1 -> name;
    echo '<br>-------------<br>新的值：'.$m1 -> food;

    $m1 -> name = '孙行者';
    $m1 -> food = '西红柿';


    echo '<br>-------------<br>新的值：'.$m1 -> name;
    echo '<br>-------------<br>新的值：'.$m1 -> food;  
  ?>

```
