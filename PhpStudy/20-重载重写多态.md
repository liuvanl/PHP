# 第二十章重载重写多态
## 20.1传统意义的重载含义
> 传统的意义上的方法重载一个标识符被用作多个方法名，且能够通过方法的参数个数或参数类型将这些同名的函数区分开来，调用不发生混淆。调用的时候，虽然方法名字相同，但根据参数表可以自动调用对应的函数。
## 20.2PHP重载的说明
> php5给我们提供了强大的‘魔术’函数，使用这些‘魔术’函数，我们也可以做到函数重载，这里要用到函数就是__call，但是php的设计者不推荐这么使用
### 举例说明php的重载：
> 要求：通过$对象名->getVal(1,2)则实现求出两个数的和；通过$对象名->getVal(34,89,90)则返回三个数中最大的那个数
```php
  <?php
    header('content-type:text/html;charset=utf-8');
    //要求：通过$对象名->getVal(1,2)则实现求出两个数的和；
    //通过$对象名->getVal(34,89,90)则返回三个数中最大的那个数

    class Person {
        public $name;
        public function __construct($name){
            $this -> name = $name;
        }
        // 写个相加的函数
        public function getSum($n1,$n2){
            return $n1 + $n2;
        }
        // 返回三个数最大的数
        public function getMax($n1,$n2,$n3){
            return max($n1,$n2,$n3);
        }
        // 写一个call魔术方法
        public function __call($method_name,$args){
            if($method_name == 'getVal'){
                if(count($args) == 2){
                    return $this -> getSum($args[0],$args[1]);
                } else if(count($args) == 3){
                    return $this -> getMax($args[0],$args[1],$args[2]);
                }
            } else {
                echo '<br>调用的方法错误';
            }
        }
    }

    $p1 = new Person('liuvanl');
    echo '和是'.$p1 -> getVal(1,2);
    echo '最大值是'.$p1 -> getVal(34,89,90);
  ?>
```
### 实现对静态方法的重载效果:
#### 在前面代码的基础上增加:
```php
  <?php
     // 返回和
     private static function getSum1($n1,$n2){
      return $n1 + $n2;
     }
     // 返回最大值
     private static function getMax1($n1,$n2,$n3){
      return max($n1,$n2,$n3);
     }
     public static function __callSatic($method_name,$args){
      if($method_name == 'getVal2'){
        if(count($args) == 2){
          return self::getSum1($args[0],$args[1]);
        } else if(count($args) == 3){
          return self::getMax1($args[0],$args[1],$args[2]);
        }
      }
     }
     // 调用
     echo '<br>和是'.Person::getVal2(4,5);
     echo '<br>最大值是'.Person::getVal2(12,2,89);
  ?>
```
